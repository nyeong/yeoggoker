!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(1),e.exports=n(4)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var a=i(n(2)),s=i(n(3)),o=new daum.maps.LatLng(37.485936,126.804632);function r(e){return e.trim().split(" ").join("_")}var c=function(){function e(e,t){this.tags=e.tags,this.name=e.name,this.desc=e.desc,this.latLng=new daum.maps.LatLng(e.x,e.y),this.marker=new daum.maps.Marker({map:t.map,position:this.latLng,clickable:!0}),daum.maps.event.addListener(this.marker,"click",this.handleMarkerClick.bind(this)),this.infoWindow=new daum.maps.InfoWindow({map:t.map,position:this.latLng,removable:!0,content:this.name}),this.infoWindow.close(),this.DOM=this.createDOM(),this.app=t}return e.prototype.appendTo=function(e){e.appendChild(this.DOM)},e.prototype.openInfoWindow=function(){this.infoWindow.open(this.app.map,this.marker)},e.prototype.closeInfoWindow=function(){this.infoWindow.close()},e.prototype.handleDOMClick=function(){d.closeAllInfoWindow(),this.openInfoWindow(),d.map.panTo(this.latLng)},e.prototype.handleMarkerClick=function(){d.closeAllInfoWindow(),this.openInfoWindow(),d.map.panTo(this.latLng),window.location.hash=r(this.name)},e.prototype.createDOM=function(){var e=document.createElement("section");return e.classList.add("review"),e.innerHTML='\n      <h2 class="review--name" id="'+r(this.name)+'">'+this.name+'</h2>\n      <p class="review--desc">\n        '+this.desc+'\n      </p>\n      <aside class="review--tags">\n        '+this.tags.join(", ")+"\n      </aisde>\n    ",e.getElementsByClassName("review--name")[0].addEventListener("click",this.handleDOMClick.bind(this)),e},e}(),d=new(function(){function e(){this.mapContainer=document.getElementById("map-container"),this.sidebarContainer=document.getElementById("sidebar-container"),this.reviewsContainer=document.getElementById("reviews-container"),this.tagsContainer=document.getElementById("tags-container"),this.sidebarButton=document.getElementById("sidebar-toggle-button"),this.reviews=[],this.tags=[],this.selectedTag=[],this.handleTagClick=function(){this.classList.contains("active")?(this.classList.remove("active"),d.unselectTag(this.innerText)):(this.classList.add("active"),d.selectTag(this.innerText))},this.map=new daum.maps.Map(this.mapContainer,{center:o,level:3}),this.sidebarButton.addEventListener("click",this.handleSidebarToggle.bind(this))}return e.prototype.handleSidebarToggle=function(){document.body.classList.contains("active")?document.body.classList.remove("active"):document.body.classList.add("active")},e.prototype.setReviewData=function(e){var t=this;e.forEach(function(e){var n=new c(e,t);n.appendTo(t.reviewsContainer),t.reviews.push(n)})},e.prototype.setTagData=function(e){var t=this;this.tags=e,this.tags.forEach(function(e){var n=t.createCategoryDOM(e.name);e.tags.forEach(function(e){n.appendChild(t.createTagDOM(e))}),t.tagsContainer.appendChild(n)})},e.prototype.closeAllInfoWindow=function(){this.reviews.forEach(function(e){return e.closeInfoWindow()})},e.prototype.selectTag=function(e){this.selectedTag.push(e),this.selectedTagChanged()},e.prototype.unselectTag=function(e){this.selectedTag.splice(this.selectedTag.indexOf(e),1),this.selectedTagChanged()},e.prototype.createCategoryDOM=function(e){var t=document.createElement("section"),n=document.createElement("h3");return n.innerText=e,t.appendChild(n),t},e.prototype.createTagDOM=function(e){var t=document.createElement("span");return t.classList.add("tag"),t.innerText=e,t.addEventListener("click",this.handleTagClick),t},e.prototype.selectedTagChanged=function(){var e=this;this.reviews.forEach(function(t){e.selectedTag.every(function(e){return t.tags.includes(e)})?t.DOM.classList.remove("disable"):t.DOM.classList.add("disable")})},e}());d.setReviewData(s.default.reviews),d.setTagData(a.default.categories)},function(e){e.exports={categories:[{name:"식당",tags:["혼밥","일식","한식","가정식"]},{name:"크기",tags:["좁음","적당히_넓음","넓음"]},{name:"가격",tags:["저렴","적당한_가격","비쌈"]},{name:"기타",tags:["주차장"]}]}},function(e){e.exports={reviews:[{tags:["혼밥","좁음","비쌈","일식"],name:"신동",desc:"비싸지만 맛있다. 가게가 좁으니 4인 이상 비추. 후리카게를 뿌려먹으면 맛있다.",x:37.485506,y:126.806288},{tags:["패스트푸드","넓음","주차장","적당한_가격"],name:"크라이 치즈 버거",desc:"음료수, 핫소스 무한 리필 가능하다. 더블치즈버거가 맛있다. 양파 구워달라고 하면 구워준다. 크기가 좀 작은 편",x:37.485403,y:126.806007},{tags:["일식","넓음","적당한_가격"],name:"쇼샤돈부리",desc:"가게가 넓고 어둡다. 계란이 맛있다. 추천 메뉴는 믹스가라아게동.",x:37.484376,y:126.80751},{tags:["한식","가정식","반찬리필","저렴","넓음"],name:"홍천식당",desc:"저렴한 가격에 맛있는 가정식 반찬. 추천 메뉴는 제육볶음.",x:37.484248,y:126.807191},{tags:["좁음","비쌈","일식"],name:"연이의 키친",desc:"정말 가게가 좁다! 카드가와 현금가가 다르니 주의! 추천 메뉴는 연어 지라시 덮밥",x:37.485899,y:126.812168}]}},function(e,t,n){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidGFnc19qc29uXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZXZpZXdzX2pzb25fMSIsImNhdGhvbGljVW5pdkxhdExuZyIsImRhdW0iLCJtYXBzIiwiTGF0TG5nIiwic2x1Z2FsaXplciIsInRleHQiLCJ0cmltIiwic3BsaXQiLCJqb2luIiwiUmV2aWV3IiwicmV2aWV3RGF0YSIsImFwcCIsInRoaXMiLCJ0YWdzIiwiZGVzYyIsImxhdExuZyIsIngiLCJ5IiwibWFya2VyIiwiTWFya2VyIiwibWFwIiwicG9zaXRpb24iLCJjbGlja2FibGUiLCJldmVudCIsImFkZExpc3RlbmVyIiwiaGFuZGxlTWFya2VyQ2xpY2siLCJpbmZvV2luZG93IiwiSW5mb1dpbmRvdyIsInJlbW92YWJsZSIsImNvbnRlbnQiLCJjbG9zZSIsIkRPTSIsImNyZWF0ZURPTSIsImFwcGVuZFRvIiwicGFyZW50IiwiYXBwZW5kQ2hpbGQiLCJvcGVuSW5mb1dpbmRvdyIsIm9wZW4iLCJjbG9zZUluZm9XaW5kb3ciLCJoYW5kbGVET01DbGljayIsImNsb3NlQWxsSW5mb1dpbmRvdyIsInBhblRvIiwid2luZG93IiwibG9jYXRpb24iLCJoYXNoIiwiZWxlbSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImlubmVySFRNTCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJhZGRFdmVudExpc3RlbmVyIiwiQXBwIiwibWFwQ29udGFpbmVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJzaWRlYmFyQ29udGFpbmVyIiwicmV2aWV3c0NvbnRhaW5lciIsInRhZ3NDb250YWluZXIiLCJzaWRlYmFyQnV0dG9uIiwicmV2aWV3cyIsInNlbGVjdGVkVGFnIiwiaGFuZGxlVGFnQ2xpY2siLCJjb250YWlucyIsInJlbW92ZSIsInVuc2VsZWN0VGFnIiwiaW5uZXJUZXh0Iiwic2VsZWN0VGFnIiwiTWFwIiwiY2VudGVyIiwibGV2ZWwiLCJoYW5kbGVTaWRlYmFyVG9nZ2xlIiwiYm9keSIsInNldFJldmlld0RhdGEiLCJfdGhpcyIsImZvckVhY2giLCJyZXZpZXciLCJwdXNoIiwic2V0VGFnRGF0YSIsImNhdGVnb3J5IiwiY2F0ZWdvcnlFbGVtIiwiY3JlYXRlQ2F0ZWdvcnlET00iLCJ0YWciLCJjcmVhdGVUYWdET00iLCJzZWxlY3RlZFRhZ0NoYW5nZWQiLCJzcGxpY2UiLCJpbmRleE9mIiwiY2F0ZWdvcnlOYW1lIiwidGFnRWxlbSIsImV2ZXJ5IiwiaW5jbHVkZXMiLCJjYXRlZ29yaWVzIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVB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U0FBU0MsY0FBYyxXQUN0Q3dDLEVBQWV6QyxTQUFTQyxjQUFjLE1BRzVDLE9BRkF3QyxFQUFhckIsVUFBWWEsRUFDekJDLEVBQWE3QyxZQUFZb0QsR0FDbEJQLEdBR0QzQixFQUFBNUQsVUFBQTBGLGFBQVIsU0FBcUJELEdBQ25CLElBQU1NLEVBQVUxQyxTQUFTQyxjQUFjLFFBSXZDLE9BSEF5QyxFQUFReEMsVUFBVUMsSUFBSSxPQUN0QnVDLEVBQVF0QixVQUFZZ0IsRUFDcEJNLEVBQVFwQyxpQkFBaUIsUUFBU3hDLEtBQUtrRCxnQkFDaEMwQixHQWFEbkMsRUFBQTVELFVBQUEyRixtQkFBUixlQUFBVixFQUFBOUQsS0FDRUEsS0FBS2dELFFBQVFlLFFBQVEsU0FBQUMsR0FDZkYsRUFBS2IsWUFBWTRCLE1BQU0sU0FBQTFHLEdBQUssT0FBQTZGLEVBQU8vRCxLQUFLNkUsU0FBUzNHLEtBQ25ENkYsRUFBTzdDLElBQUlpQixVQUFVZ0IsT0FBTyxXQUU1QlksRUFBTzdDLElBQUlpQixVQUFVQyxJQUFJLGNBSWpDSSxFQXhHQSxJQTJHQTFDLEVBQUk4RCxjQUFjMUUsRUFBQSxRQUFRNkQsU0FDMUJqRCxFQUFJbUUsV0FBV2pGLEVBQUEsUUFBSzhGIiwiZmlsZSI6ImFwcC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgdGFncyBmcm9tIFwiLi9kYXRhL3RhZ3MuanNvblwiO1xuaW1wb3J0IHJldmlld3MgZnJvbSBcIi4vZGF0YS9yZXZpZXdzLmpzb25cIjtcblxudHlwZSBSZXZpZXdEYXRhID0ge1xuICB0YWdzOiBzdHJpbmdbXTtcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjOiBzdHJpbmc7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xufTtcblxudHlwZSBDYXRlZ29yeURhdGEgPSB7IG5hbWU6IHN0cmluZzsgdGFnczogc3RyaW5nW10gfTtcblxuY29uc3QgY2F0aG9saWNVbml2TGF0TG5nID0gbmV3IGRhdW0ubWFwcy5MYXRMbmcoMzcuNDg1OTM2LCAxMjYuODA0NjMyKTtcblxuZnVuY3Rpb24gc2x1Z2FsaXplcih0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gdGV4dFxuICAgIC50cmltKClcbiAgICAuc3BsaXQoXCIgXCIpXG4gICAgLmpvaW4oXCJfXCIpO1xufVxuXG5jbGFzcyBSZXZpZXcge1xuICB0YWdzOiBzdHJpbmdbXTtcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjOiBzdHJpbmc7XG4gIGxhdExuZzogZGF1bS5tYXBzLkxhdExuZztcbiAgbWFya2VyOiBkYXVtLm1hcHMuTWFya2VyO1xuICBwcml2YXRlIGluZm9XaW5kb3c6IGRhdW0ubWFwcy5JbmZvV2luZG93O1xuICBET006IEhUTUxFbGVtZW50O1xuICBhcHA6IEFwcDtcblxuICBjb25zdHJ1Y3RvcihyZXZpZXdEYXRhOiBSZXZpZXdEYXRhLCBhcHA6IEFwcCkge1xuICAgIHRoaXMudGFncyA9IHJldmlld0RhdGEudGFncztcbiAgICB0aGlzLm5hbWUgPSByZXZpZXdEYXRhLm5hbWU7XG4gICAgdGhpcy5kZXNjID0gcmV2aWV3RGF0YS5kZXNjO1xuICAgIHRoaXMubGF0TG5nID0gbmV3IGRhdW0ubWFwcy5MYXRMbmcocmV2aWV3RGF0YS54LCByZXZpZXdEYXRhLnkpO1xuICAgIHRoaXMubWFya2VyID0gbmV3IGRhdW0ubWFwcy5NYXJrZXIoe1xuICAgICAgbWFwOiBhcHAubWFwLFxuICAgICAgcG9zaXRpb246IHRoaXMubGF0TG5nLFxuICAgICAgY2xpY2thYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgZGF1bS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKFxuICAgICAgdGhpcy5tYXJrZXIsXG4gICAgICBcImNsaWNrXCIsXG4gICAgICB0aGlzLmhhbmRsZU1hcmtlckNsaWNrLmJpbmQodGhpcylcbiAgICApO1xuICAgIHRoaXMuaW5mb1dpbmRvdyA9IG5ldyBkYXVtLm1hcHMuSW5mb1dpbmRvdyh7XG4gICAgICBtYXA6IGFwcC5tYXAsXG4gICAgICBwb3NpdGlvbjogdGhpcy5sYXRMbmcsXG4gICAgICByZW1vdmFibGU6IHRydWUsXG4gICAgICBjb250ZW50OiB0aGlzLm5hbWVcbiAgICB9KTtcbiAgICAvLyBpbmZvV2luZG9364qUIOyDneyEseyLnCBvcGVu65CY66+A66GcIGNsb3NlIO2VtOyjvOyWtOyVvCDtlaguXG4gICAgdGhpcy5pbmZvV2luZG93LmNsb3NlKCk7XG4gICAgdGhpcy5ET00gPSB0aGlzLmNyZWF0ZURPTSgpO1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICB9XG5cbiAgYXBwZW5kVG8ocGFyZW50OiBIVE1MRWxlbWVudCkge1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLkRPTSk7XG4gIH1cblxuICBvcGVuSW5mb1dpbmRvdygpOiB2b2lkIHtcbiAgICB0aGlzLmluZm9XaW5kb3cub3Blbih0aGlzLmFwcC5tYXAsIHRoaXMubWFya2VyKTtcbiAgfVxuXG4gIGNsb3NlSW5mb1dpbmRvdygpOiB2b2lkIHtcbiAgICB0aGlzLmluZm9XaW5kb3cuY2xvc2UoKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlRE9NQ2xpY2soKSB7XG4gICAgYXBwLmNsb3NlQWxsSW5mb1dpbmRvdygpO1xuICAgIHRoaXMub3BlbkluZm9XaW5kb3coKTtcbiAgICBhcHAubWFwLnBhblRvKHRoaXMubGF0TG5nKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTWFya2VyQ2xpY2soKSB7XG4gICAgYXBwLmNsb3NlQWxsSW5mb1dpbmRvdygpO1xuICAgIHRoaXMub3BlbkluZm9XaW5kb3coKTtcbiAgICBhcHAubWFwLnBhblRvKHRoaXMubGF0TG5nKTtcbiAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHNsdWdhbGl6ZXIodGhpcy5uYW1lKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlRE9NKCk6IEhUTUxFbGVtZW50IHtcbiAgICBjb25zdCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIik7XG4gICAgZWxlbS5jbGFzc0xpc3QuYWRkKFwicmV2aWV3XCIpO1xuICAgIGVsZW0uaW5uZXJIVE1MID0gYFxuICAgICAgPGgyIGNsYXNzPVwicmV2aWV3LS1uYW1lXCIgaWQ9XCIke3NsdWdhbGl6ZXIodGhpcy5uYW1lKX1cIj4ke3RoaXMubmFtZX08L2gyPlxuICAgICAgPHAgY2xhc3M9XCJyZXZpZXctLWRlc2NcIj5cbiAgICAgICAgJHt0aGlzLmRlc2N9XG4gICAgICA8L3A+XG4gICAgICA8YXNpZGUgY2xhc3M9XCJyZXZpZXctLXRhZ3NcIj5cbiAgICAgICAgJHt0aGlzLnRhZ3Muam9pbihcIiwgXCIpfVxuICAgICAgPC9haXNkZT5cbiAgICBgO1xuICAgIGVsZW1cbiAgICAgIC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicmV2aWV3LS1uYW1lXCIpWzBdXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGFuZGxlRE9NQ2xpY2suYmluZCh0aGlzKSk7XG5cbiAgICByZXR1cm4gZWxlbTtcbiAgfVxufVxuXG5jbGFzcyBBcHAge1xuICBtYXBDb250YWluZXI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXAtY29udGFpbmVyXCIpITtcbiAgc2lkZWJhckNvbnRhaW5lcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNpZGViYXItY29udGFpbmVyXCIpITtcbiAgcmV2aWV3c0NvbnRhaW5lcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJldmlld3MtY29udGFpbmVyXCIpITtcbiAgdGFnc0NvbnRhaW5lcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhZ3MtY29udGFpbmVyXCIpITtcbiAgc2lkZWJhckJ1dHRvbjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICBcInNpZGViYXItdG9nZ2xlLWJ1dHRvblwiXG4gICkhO1xuICBtYXA6IGRhdW0ubWFwcy5NYXA7XG4gIHJldmlld3M6IFJldmlld1tdID0gW107XG4gIHRhZ3M6IENhdGVnb3J5RGF0YVtdID0gW107XG4gIHNlbGVjdGVkVGFnOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubWFwID0gbmV3IGRhdW0ubWFwcy5NYXAodGhpcy5tYXBDb250YWluZXIsIHtcbiAgICAgIGNlbnRlcjogY2F0aG9saWNVbml2TGF0TG5nLFxuICAgICAgbGV2ZWw6IDNcbiAgICB9KTtcblxuICAgIHRoaXMuc2lkZWJhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJjbGlja1wiLFxuICAgICAgdGhpcy5oYW5kbGVTaWRlYmFyVG9nZ2xlLmJpbmQodGhpcylcbiAgICApO1xuICB9XG5cbiAgaGFuZGxlU2lkZWJhclRvZ2dsZSgpIHtcbiAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgIH1cbiAgfVxuXG4gIHNldFJldmlld0RhdGEocmV2aWV3czogUmV2aWV3RGF0YVtdKSB7XG4gICAgcmV2aWV3cy5mb3JFYWNoKHJldmlld0RhdGEgPT4ge1xuICAgICAgY29uc3QgcmV2aWV3ID0gbmV3IFJldmlldyhyZXZpZXdEYXRhLCB0aGlzKTtcbiAgICAgIHJldmlldy5hcHBlbmRUbyh0aGlzLnJldmlld3NDb250YWluZXIpO1xuICAgICAgdGhpcy5yZXZpZXdzLnB1c2gocmV2aWV3KTtcbiAgICB9KTtcbiAgfVxuICBzZXRUYWdEYXRhKHRhZ3M6IENhdGVnb3J5RGF0YVtdKSB7XG4gICAgdGhpcy50YWdzID0gdGFncztcblxuICAgIHRoaXMudGFncy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgIC8vIOy5tO2FjOqzoOumrOu2gO2EsCDstpTqsIDtlanri4jri6QuXG4gICAgICBjb25zdCBjYXRlZ29yeUVsZW0gPSB0aGlzLmNyZWF0ZUNhdGVnb3J5RE9NKGNhdGVnb3J5Lm5hbWUpO1xuXG4gICAgICBjYXRlZ29yeS50YWdzLmZvckVhY2godGFnID0+IHtcbiAgICAgICAgY2F0ZWdvcnlFbGVtLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGFnRE9NKHRhZykpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMudGFnc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjYXRlZ29yeUVsZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgY2xvc2VBbGxJbmZvV2luZG93KCkge1xuICAgIHRoaXMucmV2aWV3cy5mb3JFYWNoKHJldmlldyA9PiByZXZpZXcuY2xvc2VJbmZvV2luZG93KCkpO1xuICB9XG5cbiAgc2VsZWN0VGFnKHRhZzogc3RyaW5nKSB7XG4gICAgdGhpcy5zZWxlY3RlZFRhZy5wdXNoKHRhZyk7XG4gICAgdGhpcy5zZWxlY3RlZFRhZ0NoYW5nZWQoKTtcbiAgfVxuXG4gIHVuc2VsZWN0VGFnKHRhZzogc3RyaW5nKSB7XG4gICAgdGhpcy5zZWxlY3RlZFRhZy5zcGxpY2UodGhpcy5zZWxlY3RlZFRhZy5pbmRleE9mKHRhZyksIDEpO1xuICAgIHRoaXMuc2VsZWN0ZWRUYWdDaGFuZ2VkKCk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUNhdGVnb3J5RE9NKGNhdGVnb3J5OiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgY2F0ZWdvcnlFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIik7XG4gICAgY29uc3QgY2F0ZWdvcnlOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgIGNhdGVnb3J5TmFtZS5pbm5lclRleHQgPSBjYXRlZ29yeTtcbiAgICBjYXRlZ29yeUVsZW0uYXBwZW5kQ2hpbGQoY2F0ZWdvcnlOYW1lKTtcbiAgICByZXR1cm4gY2F0ZWdvcnlFbGVtO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVUYWdET00odGFnOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgdGFnRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIHRhZ0VsZW0uY2xhc3NMaXN0LmFkZChcInRhZ1wiKTtcbiAgICB0YWdFbGVtLmlubmVyVGV4dCA9IHRhZztcbiAgICB0YWdFbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZVRhZ0NsaWNrKTtcbiAgICByZXR1cm4gdGFnRWxlbTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVGFnQ2xpY2sgPSBmdW5jdGlvbih0aGlzOiBIVE1MRWxlbWVudCkge1xuICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSkge1xuICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgYXBwLnVuc2VsZWN0VGFnKHRoaXMuaW5uZXJUZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgICAgYXBwLnNlbGVjdFRhZyh0aGlzLmlubmVyVGV4dCk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgc2VsZWN0ZWRUYWdDaGFuZ2VkKCkge1xuICAgIHRoaXMucmV2aWV3cy5mb3JFYWNoKHJldmlldyA9PiB7XG4gICAgICBpZiAodGhpcy5zZWxlY3RlZFRhZy5ldmVyeSh0ID0+IHJldmlldy50YWdzLmluY2x1ZGVzKHQpKSkge1xuICAgICAgICByZXZpZXcuRE9NLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV2aWV3LkRPTS5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZVwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCBhcHAgPSBuZXcgQXBwKCk7XG5hcHAuc2V0UmV2aWV3RGF0YShyZXZpZXdzLnJldmlld3MpO1xuYXBwLnNldFRhZ0RhdGEodGFncy5jYXRlZ29yaWVzKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=